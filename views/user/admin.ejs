<main ng-app="nursechansey" ng-controller="UserController">
  <section class="main strict">
    <header class="np-main-header">
      <div class="row-fluid show-grid">
        <span class="section-title">Users <span class="user-count">(13)</span></span>
        <button class="np-button pull-right input-medium button-new" ng-click="showAddUser()"><%= __('New User') %></button>
        <input type="text" class="np-input input-medium pull-right" placeholder="<%= __('Name, ID or Service') %>" >
      </div>
      <div class="row-fluid show-grid crud-column-title">
        <div class="col-md-1"><span><%= __('Status') %></span></div>
        <div class="col-md-5"><span><%= __('Name') %></span></div>
        <div class="col-md-4"><span><%= __('Services') %></span></div>
        <div class="col-md-1 text-right"><span><%= __('Edit') %></span></div>
        <div class="col-md-1 text-right"><span><%= __('Delete') %></span></div>
      </div>
    </header>
    <div id="user-crud" class="np-crud is-hides">
      <div class="row-fluid np-crud-row user-row" ng-repeat="user in model.users track by user.id">
        <div class="col-md-1">
          <div class="user-status status-{{user.active ? 'active' : 'inactive'}}"></div>
        </div>
        <div class="col-md-5">
          <div class="row-fluid"><span class="user-name">{{user.name}}</span></div>
          <div class="row-fluid"><span class="user-title">{{getTitle( user.title )}}</span></div>
        </div>
        <div class="col-md-4">
          <div class="user-services">
            <i ng-repeat="service in getServices( user.services )" class="material-icons" style="color: {{service.color}}">local_hospital</i>
          </div>
        </div>
        <div class="col-md-1 text-right">
          <span class="edit edit-user" ng-click="edit(user)"><i class="material-icons">mode_edit</i></span>
        </div>
        <div class="col-md-1 text-right">
          <span class="delete delete-user" ng-click="delete(user)"><i class="material-icons">delete</i></span>
        </div>
      </div>
    </div>
  </section>
  <section class="helper strict">
    <new-user-form new-user="newUser" titles="titles" services="services" ng-class="showAddUserClass"></new-user-form>
    <%- include ../imports/app-nav-bar.ejs %>
  </section>
</main>


<script src="/js/dependencies/sails.io.js"></script>
<script src="/js/dependencies/jquery.min.js"></script>
<script src="/js/dependencies/bootstrap.min.js"></script>
<script src="/js/dependencies/angular/angular.min.js"></script>
<script src="/js/dependencies/angular/angular-route.min.js"></script>
<script src="/js/dependencies/angular/angular-resource.min.js"></script>
<script src="/js/dependencies/typeahead.jquery.js"></script>
<script src="/js/app.js"></script>

<script src="/js/user/app.js"></script>
<script src="/js/user/user.service.js"></script>
<script src="/js/role/role.service.js"></script>
<script src="/js/building-service/building-service.service.js"></script>
<script src="/js/module/user/new-user.js"></script>
<script src="/js/module/general/nurse-api.service.js"></script>
<script src="/js/module/general/messages.js"></script>
<script src="/js/module/general/np-select.js"></script>
